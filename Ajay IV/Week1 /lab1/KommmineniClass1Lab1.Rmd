---
title: "R Notebook"
output:
  word_document: default
  html_notebook: default
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.





```{r}
#I am writing my code from here using the Greg Martin Video
?mean
#Using a ? sign infront of any object in R shows its usages
#show. line code shows us the usage of Arithmetic Mean
?ChickWeight
#It is data frame in R shows us the diet on early growth of chciks
```

```{r}
2+3
#we can directly use R as a calculator

a<-3
b<-4
#i am assigning values in a and b variables
a+b
sum(a,b)
#it is inbuilt function in R that is sum add values with in the parameters
```

```{r}
ages <- c(5,6)
ages
#We can use concatenation in R means joining values
#We can use the c() function to concatenate elements into a vector.
sum(ages)
```
```{r}
names <- c("ajay","jay")
#now we are using characters to concatenate
friends <- data.frame(names,ages)
#it is a data frame of names and ages
str(friends)
#This is shows the structure of data frame 
friends$ages
# $ stands for datasign to look particular varaible
friends$names
friends[,1]
friends[1,]
friends[2,]
```

```{r}
data()
#this shows the data sets  in R
#view(starwars) to view starwars data set

data(starwars)
```


```{r}
library(tidyverse)
#install.packages("tidyverse") to install packages of tidyverse                          
```

```{r}
#It is pipe operator it just pipe it in
# rows are filtered where mass is less than 200 and height is greater than 150 and with a new column height_in_meters is generated by converting height from cm to meters
#mutate means change the code changes the height 
#select shows the columns that which we want to work with 
#arrange will sort it
starwars %>% 
  filter(height > 150 & mass <200) %>%
  mutate(height_in_meters = height/100) %>% 
  select(height_in_meters,mass) %>% 
  arrange(mass) 
```

```{r}
#View(msleep)
glimpse(msleep)
#give first few rows of data head
head(msleep)
class(msleep$name)
#give the type of variable in the table 
length(msleep)
length(msleep$name)
```


```{r}
#give the total values in the data set
names(msleep)
#give the all names of the in that  dataset
unique(msleep$vore)
```


```{r}
#gives only unique names in particular row
missing <- !complete.cases(msleep)
#complete cases shows the all data that isnot missing
msleep[missing,]
```

```{r}
starwars %>%
  select(name,height,mass)
starwars %>% 
  select(ends_with("color"))
starwars %>% 
  select(name, mass,everything())
#shows the varaibles who names ends with color
starwars %>%
  rename("chaarcter" = "name") %>% 
  head()
# to rename the names of varaible
class(starwars$mass)
starwars$mass <- as.character(starwars$mass)
class(starwars$mass)
#to change the type of variable we use this as
starwars %>% 
  mutate(mass = as.numeric(mass))

starwars$mass <- as.numeric(starwars$mass)
class(starwars$mass)
```
```{r}
df <- starwars
#df stands for sta frame we are creating a new frame
view(df)
df$sex <- as.factor(df$sex)
class(df$sex)
levels(df$sex)
levels(df$eye_color)
#gives the types of data presesnt
```
```{r}
(df)
jay <- factor(eye_color)
levels((jay))
```


```{r}
df <-df %>%
  mutate(sex = factor(sex,levels = c("male","female", "none","hermaphroditic")))
levels(df$sex)
#to change the order of data
starwars %>% 
  select(mass,sex) %>% 
  filter(mass <55 & sex == "male")
# to filter certain data as required
starwars %>% 
  select(sex) %>%
  mutate(sex = recode(sex, "male" = "man" , "female" = "woman")) 
summary(starwars)
#recode function changes the data as we supposed
```

```{r}
mean(df$height)
#mean is function we find out the mean of the data 
#mean function does'nt know hoe to deal with missing data
mean(starwars$height , na.rm= TRUE)
#na.rm means it removes the na values from the data frame
```
```{r}
names <- c("ajay", "harika" , "jay" , "hari", "ajay")
age <- c(20,22,21,23,20)
friends <- data.frame(names,age)
friends %>% 
  distinct()
#distinct function used to remove the duplicates in the data frame
```

```{r}
starwars %>% 
  mutate(height_m = height/100) %>%
#above code will create a new varaible iwth height >100
  select(name, height, height_m)
#shows the tables in the slect feild
starwars %>% 
  mutate(height_m = height/100) %>%
  select(name,height, height_m) %>%
  mutate(tallness =
           if_else(height_m <1,
                   "short",
                   "tall"))
#tallness is new vaaraible where the result of if else stored
#if condition is true the short is if ti false the tall is assigned

```
```{r}
library(gapminder)

#it is also a inbulit data set 
data <- select(gapminder, country, year, lifeExp)
#we just created a new data frame with only three rows of data in it
wide_data <- data %>%
  pivot_wider(names_from = year , values_from = lifeExp)
view(wid)

#pivot wider function allows us to view table in different fromat 
#above code used year and name and life Exp as values
#table now shows  countiers lifeExp in certain years 
#lets change the same data using pivot longer

```

```{r}
longer_data <- wide_data %>%
  pivot_longer(2:13,
               names_to = "year",
               values_to = "lifeExp")
view(longer_data)
#all data in the names feild now moved to a new dat feild called as year 
# all the data in values now to moved lifeExp as earlier
#
  
```

```{r}
min(msleep$awake)
#mininum of all numeric values presentin that awake data feild
max(msleep$awake)
#this shows the maximum
IQR(msleep$awake)
#this is interquartile range
range(msleep$awake)
#this is range of the data it between mi and max 
#centrality
mean(msleep$awake)
median(msleep$awake)
#varaince
var(msleep$awake)
#this is the varaince of the data
summary(msleep$awake)
#this is gives everything about the data
msleep %>% 
  select(awake,sleep_total) %>% 
  summary()
#we can two or three rows at a time
```
```{r}

msleep %>% 
  drop_na(vore) %>% 
#drops missing values
  group_by(vore) %>% 
#data is grouped by vore 
  summarise(Lower=min(sleep_total),
            Average=mean(sleep_total),
            Upper = max(sleep_total),
            Difference = 
              max(sleep_total)-min(sleep_total)) %>%
#these summarise function creates the rows with names as lower avg upper
  arrange(Average) %>% 
#this by function all the data sorted using arrange
view()

```

```{r}
table(msleep$vore)
#create a table for certian field of data with count under it
msleep %>% 
  select(vore,order) %>% 
  filter(order %in% c("Rodentia" , "Primates")) %>% 
  table()
#this is filter basically checks whether anyone of these concatenation  are in that order 
#table gives the output in fomrat of table


```
```{r}
plot(pressure)
#this plot the data of mercury under pressure and temperature
```

```{r}
ggplot(data=starwars,
       mapping= aes(x= sex))+
  geom_bar()
#This is grammar of graph plot 
#I kept x axis as gender 
#geom_bar give bar graph
```
```{r}
starwars %>%
  drop_na(height) %>% 
#drop_na removes null values
  ggplot(mapping=aes(x=height))+
  geom_histogram()
#we are mappinga histogram geom_histo
#by this way we can manipluate dat before ploting into ggplot
```

```{r}
starwars %>% 
  drop_na(height) %>% 
  ggplot(mapping=aes(x=height))+
#height is numberic varaible is can represented with either with a histogram or a box plot
#we ca use density plot even 
  geom_boxplot(fill = "steelblue")+
#above line of the code dill color to the plot
  theme_bw()+
#we can add themes to R the basic one is bw(blakc and white)
  labs(title= "Boxplot of height", x="height of the characters")
#labs for labels the x axis and the title of the plot 
```

```{r}
starwars %>% 
  filter(sex %in% c("male", "female")) %>%
#filter the only male amd females 
  ggplot(mapping=aes(x=height,
                     color=sex,
                     fill=sex))+
#above plot add color to different sex
  geom_density(alpha= 0.2)+
#alpha value depends how dark we need the coloring
#density plot same as histogram
  theme_bw()
#this is theme as above
```


```{r}
starwars %>% 
  filter(mass<200) %>% 
#filter the mass by. 200 
  ggplot(aes(x=height,y=mass,color=sex))+
#above code we are using both x and y axis
#color is again assigned to sex 
  geom_point(size=5, alpha=0.5)+
#geometry id scatter plot that point and is size 5
  theme_bw()+
  labs(title= "height and mass by sex")
```

```{r}
starwars %>% 
  filter (mass<200) %>% 
  ggplot(aes(height,mass, color=sex))+
  geom_point(size=3 , alpha=0.8)+
  geom_smooth()+
#geom-smooth add a linear layer model above the point
  facet_wrap(~sex)+
#this wrap make sex feild into different feild easy to visulize a pertical type
  theme_bw()+
  labs(title="height and mass by sex")
#theme and lable and everthing is same 

  
```

```{r}
gapminder %>%
  filter(continent %in% c("Africa", "Europe")) %>%
#filter the continent from the table
  { t.test(lifeExp ~ continent, data = ., 
#independent t-test to compare life expectancy between the two continents
           alternative = "two.sided") }
# Test if means are different (not one-sided)

```

```{r}
#ANOVA
gapminder %>%
  filter(year == 2007) %>%
# only rows where the year is 2007
  filter(continent %in% c("Africa", "Europe")) %>%
#only Africa and Europe
  aov(lifeExp~ continent , data = .) %>% 
#Perform an ANOVA test to compare life expectancy between the two continents
  summary()
#in the form summary 
```

```{r}
gapminder %>%
  filter(year == 2007) %>% 
  filter(continent %in% c("Africa", "Europe")) %>%
  aov(lifeExp~ continent , data = .) %>% 
  TukeyHSD()
#it the same the above code but its piped into TukeyHSD
#a
```
```{r}
gapminder %>%
  filter(year == 2007) %>% 
  filter(continent %in% c("Africa", "Europe")) %>%
  aov(lifeExp~ continent , data = .) %>% 
  TukeyHSD() %>% 
  plot()
#it the same the above code but its ploted
```
```{r}
head(iris)
```

```{r}
#Chi-Squared
flowers <- iris %>%
#Create a new dataset from the built-in 'iris' 
  mutate(size = cut(Sepal.Length,
#variable size based on Sepal.Length
                    breaks = 3,
                    labels = c("small", "Medium", "Large"))) %>%
  select(Species, size)
 #Select only the Species and newly created size columns

# chi squared goodness of fit test
flowers %>%
  select(size) %>%
  table() %>%
#frequency table for size
  chisq.test()
#above line perform a Chi-Square  test
```

```{r}
# chi square test of independence
flowers %>%
  table() %>%
  chisq.test()
```

```{r}
#linear model
head(cars,10)
```

```{r}
cars %>%
  lm(dist ~ speed, data = .) %>%
#linear regression model using dist based on speed
  summary()
#displays summary
```













